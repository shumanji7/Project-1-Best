<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>Welcome!</title>
    <link rel="stylesheet" href="final.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
</head>
<body style="background-image: url(https://e0.pxfuel.com/wallpapers/60/731/desktop-wallpaper-quiz-test.jpg); background-repeat: no-repeat; background-size: cover;">

    <header>
        <h1>Are you smarter than a fifth grader?</h1>
        <nav>
            <ul>
                <li>
            <a href="#about">About</a>
                </li>
                <li>
            <a href="#contact">Contact Us</a>
                </li>
            </ul>
        </nav>
    </header>
  
    <nav>

    </nav>
    
    <main>
        <h1>Welcome!</h1>
        <p id="about">Today you shall embark on a once in a lifetime opportunity by testing your mental skills to their limits. However there's a catch, you only have 1 minute to finish this exam before an atom bomb gets dropped on your head and you fail completely. Fill out the required information below and good luck!</p>
        <div id="info">
            <h2>Student</h2>
            <p>Provide the following information:</p>
            <!-- //added class id to collect info// -->
            <form id="studentForm">
                <label for="student-name">Student Name:</label>
                <input type="text" id="student-name" name="student-name" required>
        
                <label for="school-name">Select School:</label>
                <select id="school-name" name="school-name" required>
                    <option value="University of Michigan">University of Michigan</option>
                    <option value="Oxford University">Oxford University</option>
                    <option value="USC">USC</option>
                    <option value="Texas">University of Texas</option>
                </select>
                <button type="submit" id="submitButton">Submit</button>
                
                <table id="previousResults">
                    <thead>
                        <h2 style="text-align: center;">Previous Test Results</h2>
                        <tr>
                            <th>Name</th>
                            <th>School</th>
                            <th>Right Answer</th>
                            <th>Score</th>
                            <th>Time</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr style="color: red; font-weight: bold;">
                            <td id="name" style="text-align: center;"></td>
                            <td id="school" style="text-align: center;"></td>
                            <td id="rightAnswer" style="text-align: center;"></td>
                            <td id="score" style="text-align: center;"></td>
                            <td id="time" style="text-align: center;"></td>
                        </tr>
                    </tbody>
                </table>
                
                <script>
                    // Retrieve and display previous test results
                    const studentN = localStorage.getItem('studentGrades');
                    const studentData = studentN ? JSON.parse(studentN) : {};
                    
                    //removed studentInfo to textContent
                    //added the textContent to the Data collected to be stored
                    document.getElementById('name').textContent = studentData.studentName || '';
                    document.getElementById('school').textContent = studentData.studentSchool || '';
                    document.getElementById('rightAnswer').textContent = studentData.studentScore || '0';
                    document.getElementById('score').textContent = studentData.studentPercent || '0';
                    document.getElementById('time').textContent = studentData.studentTime ? `${studentData.studentTime}` : '';

                    //removed the excess
                    // Handle form submission
                    document.getElementById('studentForm').addEventListener('submit', function(event) {
                        event.preventDefault(); // Prevent default form submission

                        const student = {
                            studentName: document.getElementById('student-name').value,
                            studentSchool: document.querySelector('#school-name').value
                        };
                        localStorage.setItem('student', JSON.stringify(student));

                        const isConfirmed = confirm("Are you ready? Timer will begin!");
                        if (isConfirmed) {
                            window.location.href = "mainTest.html"; // Redirect to next page
                        }
                    });
                </script>
            </form>                
        </div>
    </main>

    <footer>
        <div id="contact">
            <h2>Contact</h2>
            <button id="contactButton">Contact Us</button>        
        </div>
        <script>
            document.getElementById('contactButton').addEventListener('click', function() {
                window.location.href = "contact.html";
            });
        </script>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
</body>
</html>
